(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,n){e.exports=n(57)},46:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),l=n.n(o),c=(n(46),n(28)),i=n.n(c),s=n(34),u=n(14),m=n(16),f=n(5),h=(n(49),n(62)),d=n(63),E=n(59),v=function(e){return r.a.createElement("div",null,r.a.createElement(h.a,{bg:"light",expand:"lg"},r.a.createElement(h.a.Brand,{href:"#home"},"Google Books"),r.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(d.a,{className:"mr-auto"},r.a.createElement(m.b,{to:"/"},"Search"),r.a.createElement(d.a.Link,null,r.a.createElement(m.b,{to:"/saved"},"Saved"))))),r.a.createElement(E.a,null,r.a.createElement("h1",{className:"text-center"},"(React) Google Books Search"),r.a.createElement("p",{className:"text-center"},"Search for and save books of interest!")))},b=n(61),p=n(60),g=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1];return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Book Search"),r.a.createElement(b.a,{onSubmit:function(t){return function(t){t.preventDefault(),""!==o&&e.APISearch(o)}(t)}},r.a.createElement(b.a.Group,{controlId:"formBasicEmail"},r.a.createElement(b.a.Label,null,"Book"),r.a.createElement(b.a.Control,{type:"text",placeholder:"Enter a search term",value:o,onChange:function(e){return l(e.target.value)}})),r.a.createElement(p.a,{variant:"primary",type:"submit",className:"float-right"},"Search")))},k=n(64),w=function(e){var t=e.book,n=e.saveBook,a=t.title,o=t.subtitle,l=t.authors,c=t.description,i=t.imageLinks,s=t.infoLink;return c=c.length>400?c.slice(0,400)+"...":c,r.a.createElement(k.a,{className:"p-2 my-3 book-result"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement(k.a.Title,null,a),r.a.createElement(k.a.Subtitle,{className:"mb-2 font-weight-light"},o),r.a.createElement(k.a.Subtitle,{className:"mb-2 text-muted font-weight-light"},"Written by: ",l&&l.join(", "))),r.a.createElement("div",null,r.a.createElement(p.a,{onClick:function(){return n({title:a,authors:l,description:c,image:i.smallThumbnail,link:s})}},"Save"),r.a.createElement("a",{classsName:"btn",href:s,target:"_blank"},"View"))),r.a.createElement(k.a.Body,{className:"d-flex"},i&&i.smallThumbnail?r.a.createElement("img",{src:i.smallThumbnail}):r.a.createElement("img",{src:"https://via.placeholder.com/300"}),r.a.createElement(k.a.Text,{className:"px-2"},c)))},N=function(e){var t=e.books,n=void 0===t?[]:t,a=e.saveBook;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Results"),n&&n.length>0?n.map(function(e,t){return r.a.createElement(w,{key:t,book:e.volumeInfo,saveBook:a})}):r.a.createElement("p",null,"No Results"))},x=function(e){var t=e.book,n=e.deleteBook,a=t._id,o=t.title,l=t.authors,c=t.description,i=t.image,s=t.link;return c=c.length>400?c.slice(0,400)+"...":c,r.a.createElement(k.a,{className:"p-2 my-3 book-result"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement(k.a.Title,null,o),r.a.createElement(k.a.Subtitle,{className:"mb-2 text-muted font-weight-light"},"Written by: ",l&&l.join(", "))),r.a.createElement("div",null,r.a.createElement(p.a,{onClick:function(){return n(a)}},"Delete"),r.a.createElement("a",{classsName:"btn",href:s,target:"_blank"},"View"))),r.a.createElement(k.a.Body,{className:"d-flex"},i?r.a.createElement("img",{src:i}):r.a.createElement("img",{src:"https://via.placeholder.com/300"}),r.a.createElement(k.a.Text,{className:"px-2"},c)))},y=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)(function(){console.log("fetching books"),fetch("/api/books").then(function(e){return e.json()}).then(function(e){return o(e)})},[]);var l=function(e){fetch("/api/books/".concat(e),{method:"delete"}).then(function(t){o(n.filter(function(t){return t._id!==e}))})};return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Results"),n&&n.length>0?n.map(function(e,t){return r.a.createElement(x,{key:t,book:e,deleteBook:l})}):r.a.createElement("p",null,"No Results"))},j=(n(56),"https://www.googleapis.com/books/v1/volumes?q=");var S=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],l=function(){var e=Object(s.a)(i.a.mark(function e(t){var n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/books",{headers:{"Content-Type":"application/json"},method:"post",body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{err:e.t0});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(v,null),r.a.createElement(f.a,{path:"/",exact:!0},r.a.createElement(g,{APISearch:function(e){""!==e&&fetch(j+e).then(function(e){return e.json()}).then(function(e){return o(e.items)})}}),r.a.createElement(N,{books:n,saveBook:l})),r.a.createElement(f.a,{path:"/saved"},r.a.createElement(y,null))))},B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function O(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(S,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");B?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):O(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):O(e)})}}()}},[[41,1,2]]]);
//# sourceMappingURL=main.50bdb7a4.chunk.js.map